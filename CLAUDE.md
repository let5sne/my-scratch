# CLAUDE.md

此文件为 Claude Code (claude.ai/code) 在此代码库中工作时提供指导。

## 项目概览

这是一个使用原生 HTML、CSS 和 JavaScript 构建的 Scratch 可视化编程语言克隆版本。它实现了拖放式积木编程界面，允许用户通过连接可视化积木来创建程序。

## 架构设计

### 核心类
- **ScratchClone** (script.js:3): 主应用程序类，管理整个界面，包括拖拽功能、积木执行、角色控制和运行时日志
- **BlockConnection** (script.js:679): 处理积木连接逻辑，包括吸附、连接链和执行顺序

### 关键组件
- **积木类别** (index.html:25-82): 左侧边栏，包含按类型组织的可拖拽积木（运动/Motion, 外观/Looks, 事件/Events, 控制/Control）
- **工作区** (index.html:85-92): 中央区域，用于组装积木成程序
- **舞台** (index.html:95-118): 右侧面板，包含角色动画区域和运行时日志

### 积木系统
积木通过 `data-type` 属性定义，包括：
- 运动类：move（移动）, turn-right（右转）, turn-left（左转）
- 外观类：say（说话）, show（显示）, hide（隐藏）
- 事件类：when-clicked（被点击时）, when-green-flag（绿旗被点击时）
- 控制类：wait（等待）, repeat（重复）, forever（无限循环）

积木执行在 `executeBlock()` (script.js:406) 中处理，配合相应的角色操作方法。

## 开发说明

### 运行应用
直接在浏览器中打开 `index.html` 即可 - 无需构建过程或依赖项。

### 核心功能
- **拖拽功能**: 积木可从类别区拖到工作区并重新定位
- **积木连接**: 积木垂直吸附连接形成执行链
- **角色控制**: 🐱 角色根据积木指令移动、旋转和响应
- **运行时日志**: 所有操作在运行面板中分类记录（信息、成功、警告、错误、执行）

### 键盘快捷键
- `Ctrl/Cmd + Enter`: 运行代码
- `Ctrl/Cmd + .`: 停止执行
- `Delete/Backspace`: 删除选中的积木

### 样式设计
CSS 使用中文颜色命名进行积木分类，包含适用于平板/移动设备的响应式设计。积木样式遵循 Scratch 的视觉约定，带有彩色边框和悬停效果。